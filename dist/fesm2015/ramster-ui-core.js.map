{"version":3,"file":"ramster-ui-core.js.map","sources":["ng://ramster-ui-core/components/base-layout.component.ts","ng://ramster-ui-core/components/base-page.component.ts","ng://ramster-ui-core/services/globalEvents/globalEvents.service.ts","ng://ramster-ui-core/services/request.service.ts","ng://ramster-ui-core/services/baseREST.service.ts","ng://ramster-ui-core/services/filesREST.service.ts","ng://ramster-ui-core/services/modelRESTServiceProvider.service.ts","ng://ramster-ui-core/utils/toolbelt.ts","ng://ramster-ui-core/index.ts"],"sourcesContent":["import {OnInit} from '@angular/core'\r\nimport {Router} from '@angular/router'\r\n\r\nimport {GlobalEventsService} from '../services/globalEvents/globalEvents.service'\r\nimport {GESRedirectOptionsInterface} from '../services/globalEvents/globalEvents.interfaces'\r\n\r\n\r\nexport class BaseLayoutComponent implements OnInit {\r\n\tinitialDataLoaded: boolean = false\r\n\tloaderActive: boolean = false\r\n\tqueryParams: {[x: string]: string} = {}\r\n\trouteParams: {[x: string]: string} = {}\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic router: Router\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.globalEventsService.pageLoaded$.subscribe((data?: {[x: string]: any}) => this.pageLoaded(data))\r\n\t\tthis.globalEventsService.triggerInitialDataLoad$.subscribe(() => this.loadInitialData())\r\n\t\tthis.globalEventsService.setLayoutData$.subscribe((data) => this.setLayoutData(data))\r\n\t\tthis.globalEventsService.redirect$.subscribe(({route, options}) => this.redirect(route, options))\r\n\t\tthis.globalEventsService.toggleLoader$.subscribe((active) => this.toggleLoader(active))\r\n\t}\r\n\r\n\tsendInitialDataLoadedEvent() {\r\n\t\tthis.globalEventsService.initialDataLoaded({queryParams: this.queryParams, routeParams: this.routeParams})\r\n\t}\r\n\r\n\r\n\t// globalEventsService handlers\r\n\r\n\tpageLoaded(data?: {[x: string]: any}): void {\r\n\t\tif (data) {\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tthis[key] = data[key]\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.initialDataLoaded) {\r\n\t\t\tthis.sendInitialDataLoadedEvent()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.loadInitialData()\r\n\t}\r\n\r\n\tloadInitialData(): void {\r\n\t\tthis.sendInitialDataLoadedEvent()\r\n\t}\r\n\r\n\tsetLayoutData(args: {[x: string]: any}) {\r\n\t\tfor (const key in args) {\r\n\t\t\tthis[key] = args[key]\r\n\t\t}\r\n\t}\r\n\r\n\tredirect(route: string, options: GESRedirectOptionsInterface): void {\r\n\t\tconst actualOptions = options || {},\r\n\t\t\t{queryParams, reloadInitialData} = actualOptions\r\n\t\tif (reloadInitialData) {\r\n\t\t\tthis.initialDataLoaded = false\r\n\t\t}\r\n\t\tthis.router.navigate([route], {queryParams: queryParams || {}})\r\n\t}\r\n\r\n\ttoggleLoader(active: boolean): void {\r\n\t\tthis.loaderActive = active\r\n\t}\r\n}\r\n","'use strict'\r\n\r\nimport {ActivatedRoute} from '@angular/router'\r\nimport {OnDestroy, OnInit} from '@angular/core'\r\nimport {Subject} from 'rxjs'\r\nimport {takeUntil} from 'rxjs/operators'\r\n\r\nimport {GlobalEventsService} from '../services/globalEvents/globalEvents.service'\r\n\r\nexport class BasePageComponent implements OnInit, OnDestroy {\r\n\tdestroyed: Subject<void> = new Subject()\r\n\tloggedInUser?: any\r\n\tqueryParams: {[x: string]: string}\r\n\trouteParams: {[x: string]: string}\r\n\r\n\tconstructor(\r\n\t\tpublic activatedRoute: ActivatedRoute,\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic onInitMethodNames: string[],\r\n\t\tpublic onInitialDataLoadedMethodNames: string[]\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.globalEventsService.initialDataLoaded$.pipe(takeUntil(this.destroyed)).subscribe((data) => this.initialDataLoaded(data))\r\n\t\tthis.onInitMethodNames.forEach((methodName) => {\r\n\t\t\tif (typeof this[methodName] === 'function') {\r\n\t\t\t\tthis[methodName]()\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treset(): void {\r\n\t\tthis.queryParams = this.activatedRoute.snapshot.queryParams\r\n\t\tthis.routeParams = this.activatedRoute.snapshot.params\r\n\t}\r\n\r\n\tsendPageLoadedEvent() {\r\n\t\tthis.globalEventsService.pageLoaded({queryParams: this.queryParams, routeParams: this.routeParams})\r\n\t}\r\n\r\n\tinitialDataLoaded(data): void {\r\n\t\tthis.loggedInUser = data.user\r\n\t\tthis.queryParams = data.queryParams\r\n\t\tthis.routeParams = data.routeParams\r\n\t\tthis.onInitialDataLoadedMethodNames.forEach((methodName) => {\r\n\t\t\tif (typeof this[methodName] === 'function') {\r\n\t\t\t\tthis[methodName](data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdestructor() {\r\n\t\tthis.destroyed.next()\r\n\t\tthis.destroyed.complete()\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.destructor()\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core'\r\nimport {Subject} from 'rxjs'\r\nimport {GESRedirectOptionsInterface} from './globalEvents.interfaces'\r\n\r\n@Injectable()\r\nexport class GlobalEventsService {\r\n\tpageLoadedSource = new Subject<{[x: string]: any} | void>()\r\n\ttriggerInitialDataLoadSource = new Subject<void>()\r\n\tinitialDataLoadedSource = new Subject<any>()\r\n\tsetLayoutDataSource = new Subject<{[x: string]: any}>()\r\n\tredirectSource = new Subject<{route: string, options: GESRedirectOptionsInterface}>()\r\n\tnotifySource = new Subject<{type: string, message: string}>()\r\n\ttoggleLoaderSource = new Subject<boolean>()\r\n\r\n\tpageLoaded$ = this.pageLoadedSource.asObservable()\r\n\ttriggerInitialDataLoad$ = this.triggerInitialDataLoadSource.asObservable()\r\n\tinitialDataLoaded$ = this.initialDataLoadedSource.asObservable()\r\n\tsetLayoutData$ = this.setLayoutDataSource.asObservable()\r\n\tredirect$ = this.redirectSource.asObservable()\r\n\tnotify$ = this.notifySource.asObservable()\r\n\ttoggleLoader$ = this.toggleLoaderSource.asObservable()\r\n\r\n\tpageLoaded(data): void {\r\n\t\tthis.pageLoadedSource.next(data)\r\n\t}\r\n\r\n\ttriggerInitialDataLoad(): void {\r\n\t\tthis.triggerInitialDataLoadSource.next()\r\n\t}\r\n\r\n\tinitialDataLoaded(data): void {\r\n\t\tthis.initialDataLoadedSource.next(data)\r\n\t}\r\n\r\n\tsetLayoutData(data): void {\r\n\t\tthis.setLayoutDataSource.next(data)\r\n\t}\r\n\r\n\tredirect(route: string, options?: GESRedirectOptionsInterface): void {\r\n\t\tthis.redirectSource.next({route, options})\r\n\t}\r\n\r\n\tnotify(type: string, message: string): void {\r\n\t\tthis.notifySource.next({type, message})\r\n\t}\r\n\r\n\ttoggleLoader(active: boolean): void {\r\n\t\tthis.toggleLoaderSource.next(active)\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core'\r\nimport {HttpClient, HttpRequest, HttpResponse} from '@angular/common/http'\r\n\r\n\r\n@Injectable()\r\nexport class RequestService {\r\n\tconstructor(public client: HttpClient) {}\r\n\r\n\tflattenObjectForQuery(object: {[x: string]: any} | any[], parentKey?: string): {key: string, value: any}[] {\r\n\t\tlet returnObject = []\r\n\t\tif (object instanceof Array) {\r\n\t\t\tif (!parentKey) {\r\n\t\t\t\tthrow {error: 'The top-most item cannot be an array.'}\r\n\t\t\t}\r\n\t\t\tobject.forEach((item) => {\r\n\t\t\t\tif (item === null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif ((item instanceof Date) || !(item instanceof Array)  || (typeof item !== 'object')) {\r\n\t\t\t\t\treturnObject.push({key: `${parentKey}[]`, value: item})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturnObject = returnObject.concat(this.flattenObjectForQuery(item, `${parentKey}[]`))\r\n\t\t\t\treturn\r\n\t\t\t})\r\n\t\t\treturn returnObject\r\n\t\t}\r\n\t\tfor (const key in object) {\r\n\t\t\tconst value = object[key]\r\n\t\t\tif (value === null) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif ((value instanceof Date) || (typeof value !== 'object')) {\r\n\t\t\t\treturnObject.push({key: parentKey ? `${parentKey}[${key}]`: key, value})\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\treturnObject = returnObject.concat(this.flattenObjectForQuery(value, parentKey ? `${parentKey}[${key}]` : key))\r\n\t\t}\r\n\t\treturn returnObject\r\n\t}\r\n\r\n\trun(method: string, url: string, options?: {[x: string]: any}) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\ttry {\r\n\t\t\t\tlet actualUrl = url,\r\n\t\t\t\t\trunOptions = {} as any,\r\n\t\t\t\t\trequestOptions = {} as any,\r\n\t\t\t\t\tbody = null\r\n\t\t\t\tif (options && (typeof options === 'object')) {\r\n\t\t\t\t\tlet {resolveWithFullResponse, ... otherOptions} = options\r\n\t\t\t\t\trequestOptions = otherOptions\r\n\t\t\t\t\trunOptions = {resolveWithFullResponse}\r\n\t\t\t\t}\r\n\t\t\t\tif (method.toLowerCase() === 'get') {\r\n\t\t\t\t\tif (!requestOptions || (typeof requestOptions !== 'object')) {\r\n\t\t\t\t\t\trequestOptions = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst optionsParams = this.flattenObjectForQuery(requestOptions.params || {})\r\n\t\t\t\t\tactualUrl += `?_=${(new Date()).getTime().toString()}`\r\n\t\t\t\t\tif (optionsParams.length) {\r\n\t\t\t\t\t\toptionsParams.forEach((item, index) => {\r\n\t\t\t\t\t\t\tactualUrl += `&${item.key}=${item.value}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!requestOptions || (typeof requestOptions !== 'object')) {\r\n\t\t\t\t\t\trequestOptions = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbody = (!requestOptions.body || (typeof requestOptions.body !== 'object')) ? {} : requestOptions.body\r\n\t\t\t\t\tbody._ = (new Date()).getTime()\r\n\t\t\t\t\tdelete requestOptions.body\r\n\t\t\t\t}\r\n\t\t\t\t// if (!requestOptions.responseType) {}\r\n\t\t\t\tthis.client.request(new HttpRequest(method, actualUrl, body, requestOptions)).toPromise().then(\r\n\t\t\t\t\t(response: HttpResponse<any>) => runOptions.resolveWithFullResponse ? resolve(response) : resolve(response.body),\r\n\t\t\t\t\t(error: any) => reject(error)\r\n\t\t\t\t)\r\n\t\t\t} catch(error) {\r\n\t\t\t\treject(error)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n","import co from 'co'\r\nimport {Injectable} from '@angular/core'\r\nimport {HttpHeaders} from '@angular/common/http'\r\n\r\nimport {GlobalEventsService} from './globalEvents/globalEvents.service'\r\nimport {RequestService} from './request.service'\r\n\r\n@Injectable()\r\nexport class BaseRESTService {\r\n\tbaseUrl = '/'\r\n\theaders = new HttpHeaders({'Content-Type': 'application/json'})\r\n\tredirectOnForbiddenUrl?: string = null\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic requestService: RequestService\r\n\t) {}\r\n\r\n\temptyToNull(data: any): any {\r\n\t\tif (data === '') {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tif (data instanceof Date) {\r\n\t\t\treturn data\r\n\t\t}\r\n\t\tif (data instanceof Array) {\r\n\t\t\treturn data.map((item, index) => this.emptyToNull(item))\r\n\t\t}\r\n\t\tif ((typeof data === 'object') && (data !== null)) {\r\n\t\t\tconst parsedData = {}\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tparsedData[key] = this.emptyToNull(data[key])\r\n\t\t\t}\r\n\t\t\treturn parsedData\r\n\t\t}\r\n\t\treturn data\r\n\t}\r\n\r\n\tstringifyGetParams(data: {[key: string]: any}): {[key: string]: any} {\r\n\t\tlet stringifiedObject = {}\r\n\t\tfor (const key in data) {\r\n\t\t\tconst value = data[key]\r\n\t\t\tif ((value instanceof Array) || ((typeof value === 'object') && (value !== null) && !(value instanceof Date))) {\r\n\t\t\t\tstringifiedObject[`_json_${key}`] = JSON.stringify(value)\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tstringifiedObject[key] = value\r\n\t\t}\r\n\t\treturn stringifiedObject\r\n\t}\r\n\r\n\thandleError(err: any, options?: {notifyOnError?: boolean}): void {\r\n\t\tconst {notifyOnError} = options || {} as any\r\n\t\tif (!err) {\r\n\t\t\tif (notifyOnError !== false) {\r\n\t\t\t\tthis.globalEventsService.notify('error', 'An error has occurred.')\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.redirectOnForbiddenUrl && (err.status === 401)) {\r\n\t\t\tthis.globalEventsService.redirect(this.redirectOnForbiddenUrl)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (notifyOnError !== false) {\r\n\t\t\tthis.globalEventsService.notify('error', err.error && err.error.error || 'An error has occurred.')\r\n\t\t}\r\n\t}\r\n\r\n\tcreate(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('post', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tread(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/item`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\treadList(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\treadStreamList(\r\n\t\tparams: {[key: string]: any},\r\n\t\tonMessage: Function,\r\n\t\toptions?: {onError?: Function, reconnectAttemptInterval?: number, reconnectAttemptsLeft?: number}\r\n\t): EventSource {\r\n\t\tconst {onError, reconnectAttemptInterval, reconnectAttemptsLeft} = options || {} as any,\r\n\t\t\terrorHandler = onError ? onError : this.handleError.bind(this)\r\n\t\tlet eventSource = new EventSource(`/${this.baseUrl}/streamList` + this.stringifyGetParams(this.emptyToNull(params)))\r\n\t\teventSource.onmessage = (event) => onMessage(event)\r\n\t\teventSource.onerror = (err) => {\r\n\t\t\terrorHandler(err)\r\n\t\t\tif ((typeof reconnectAttemptsLeft === 'undefined') || reconnectAttemptsLeft > 0) {\r\n\t\t\t\teventSource.close()\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.readStreamList(\r\n\t\t\t\t\t\tparams,\r\n\t\t\t\t\t\tonMessage, {\r\n\t\t\t\t\t\t\t...options,\r\n\t\t\t\t\t\t\treconnectAttemptsLeft: typeof reconnectAttemptsLeft === 'number' ? reconnectAttemptsLeft - 1 : undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t}, reconnectAttemptInterval || 5000)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn eventSource\r\n\t}\r\n\r\n\treadSelectList(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/selectList`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tupdate(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('patch', `${instance.baseUrl}/item/${params.id}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tbulkUpsert(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('put', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tdelete(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('delete', `${instance.baseUrl}/${params.id}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import co from 'co'\r\nimport {Injectable} from '@angular/core'\r\nimport {HttpHeaders} from '@angular/common/http'\r\n\r\nimport {GlobalEventsService} from './globalEvents/globalEvents.service'\r\nimport {RequestService} from './request.service'\r\n\r\n@Injectable()\r\nexport class FilesRESTService {\r\n\t// {'Content-Type': 'application/json'}\r\n\theaders = new HttpHeaders()\r\n\tbaseUrl = '/files'\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic requestService: RequestService\r\n\t) {}\r\n\r\n\thandleError(err): void {\r\n\t\tthis.globalEventsService.notify('error', err && err.error && err.error.error || 'An error has occurred.')\r\n\t}\r\n\r\n\tupload(file: File, params: {outputFileName: string, [x: string]: any}, options?: {handleError?: boolean}): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\tlet fd = new FormData()\r\n\t\t\t\tfd.append('file', file, file.name)\r\n\t\t\t\tfor (const key in params) {\r\n\t\t\t\t\tfd.append(key, params[key])\r\n\t\t\t\t}\r\n\t\t\t\tinstance.headers.set('Content-Type', 'multipart/form-data')\r\n\t\t\t\tyield instance.requestService.run('post', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: fd\r\n\t\t\t\t})\r\n\t\t\t\treturn {success: true}\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tif (options && options.handleError) {\r\n\t\t\t\t\tinstance.handleError(err)\r\n\t\t\t\t}\r\n\t\t\t\treject({error: err || true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tread(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/item`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import {BaseRESTService} from '../index'\nimport {Injectable, Injector} from '@angular/core'\n\n@Injectable()\nexport class ModelRESTServiceProviderService {\n\tmodelRESTServices: {[key: string]: BaseRESTService} = {}\n\n\tconstructor(\n\t\tpublic injector: Injector\n\t) {\n\t}\n\n\tget(componentName: string): BaseRESTService {\n\t\treturn this.modelRESTServices[`${componentName}ModelRESTService`]\n\t}\n\n\tsetServices(data: {[key: string]: BaseRESTService}): void {\n\t\tthis.modelRESTServices = {}\n\t\tObject.keys(data).forEach((key) => {\n\t\t\tthis.modelRESTServices[`${key.charAt(0).toLowerCase()}${key.substr(1, key.length)}`] = this.injector.get(data[key])\n\t\t})\n\t}\n}\n","export const getNested = (parent: any, field: string): any => {\r\n\tif ((typeof parent !== 'object') || (parent === null) || (typeof field !== 'string') || !field.length) {\r\n\t\treturn undefined\r\n\t}\r\n\tlet fieldData = field.split('.'),\r\n\t\tfieldDataLength = fieldData.length,\r\n\t\tcurrentElement = parent\r\n\tfor (let i = 0; i < fieldDataLength; i++) {\r\n\t\tif ((typeof currentElement === 'undefined') || (currentElement === null)) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\tlet innerElementName = fieldData[i]\r\n\t\t// logic for handling sequelize-style $foo.bar$ - should be treated as a single element\r\n\t\tif (innerElementName.charAt(0) === '$') {\r\n\t\t\tlet closingBracketFound = false,\r\n\t\t\t\tclosingBracketIndex = i + 1\r\n\t\t\twhile (closingBracketIndex < fieldDataLength) {\r\n\t\t\t\tconst element = fieldData[closingBracketIndex]\r\n\t\t\t\t// false alarm - there's another $ opening before the current one closed - so the current one must be just a variable name, not a bracket\r\n\t\t\t\tif (element.charAt(0) === '$') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// found it !\r\n\t\t\t\tif (element.charAt(element.length - 1) === '$') {\r\n\t\t\t\t\tclosingBracketFound = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tclosingBracketIndex++\r\n\t\t\t}\r\n\t\t\tif (closingBracketFound) {\r\n\t\t\t\tfor (let j = i + 1; j <= closingBracketIndex; j++) {\r\n\t\t\t\t\tinnerElementName += `.${fieldData[j]}`\r\n\t\t\t\t}\r\n\t\t\t\ti = closingBracketIndex\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet nextElement = currentElement[innerElementName]\r\n\t\tif (typeof nextElement === 'undefined') {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\t// if the next element is an array, prepare to return an array of the inner items\r\n\t\tif (nextElement instanceof Array) {\r\n\t\t\t// if this is the last item, just return the array\r\n\t\t\tif (i === (fieldDataLength - 1)) {\r\n\t\t\t\treturn nextElement\r\n\t\t\t}\r\n\t\t\t// if the next item is not an index, recursively call self for each item of the array\r\n\t\t\tif (isNaN(parseInt(fieldData[i + 1], 10))) {\r\n\t\t\t\tcurrentElement = []\r\n\t\t\t\tlet innerPath = ''\r\n\t\t\t\tfor (let j = i + 1; j < fieldDataLength; j++) {\r\n\t\t\t\t\tinnerPath += `${fieldData[j]}${j < (fieldDataLength - 1) ? '.' : ''}`\r\n\t\t\t\t}\r\n\t\t\t\tnextElement.forEach((item, iIndex) => {\r\n\t\t\t\t\tlet innerValue = getNested(item, innerPath)\r\n\t\t\t\t\tif (typeof innerValue !== 'undefined') {\r\n\t\t\t\t\t\t// if the innerValue is an array too, merge it with the currentElement - this way we can have nested arrays without indexes\r\n\t\t\t\t\t\tif (innerValue instanceof Array) {\r\n\t\t\t\t\t\t\tcurrentElement = currentElement.concat(innerValue)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t currentElement.push(innerValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn currentElement\r\n\t\t\t}\r\n\t\t}\r\n\t\tcurrentElement = nextElement\r\n\t}\r\n\treturn currentElement\r\n}\r\n\r\nexport const setNested = (parent: any, field: string, value: any): boolean => {\r\n\tconst fieldNames = field.split('.')\r\n\tif (!fieldNames.length) {\r\n\t\treturn false\r\n\t}\r\n\tlet currentParent = parent,\r\n\t\tloopEnd = fieldNames.length - 1\r\n\tfor (let i = 0; i < loopEnd; i++) {\r\n\t\tconst fieldName = fieldNames[i]\r\n\t\tif (typeof currentParent[fieldName] === 'undefined') {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tcurrentParent = currentParent[fieldName]\r\n\t}\r\n\tcurrentParent[fieldNames[loopEnd]] = value\r\n\treturn true\r\n}\r\n","'use strict'\r\n\r\n// angular dependencies\r\nimport {CommonModule} from '@angular/common'\r\nimport {NgModule} from '@angular/core'\r\n\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule\r\n\t]\r\n})\r\nexport class RamsterUICoreModule {}\r\n\r\nexport * from './components/base-layout.component'\r\nexport * from './components/base-page.component'\r\nexport * from './services/baseREST.service'\r\nexport * from './services/filesREST.service'\r\nexport * from './services/globalEvents/globalEvents.service'\r\nexport * from './services/globalEvents/globalEvents.interfaces'\r\nexport * from './services/modelRESTServiceProvider.service'\r\nexport * from './services/request.service'\r\nexport * from './utils/toolbelt'\r\nexport * from './interfaces/selectList.interface'\r\n"],"names":[],"mappings":"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"}
