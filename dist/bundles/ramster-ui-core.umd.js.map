{"version":3,"file":"ramster-ui-core.umd.js.map","sources":["ng://ramster-ui-core/components/componentInjector/componentInjector.directive.ts","ng://ramster-ui-core/components/componentInjector/componentInjector.component.ts","ng://ramster-ui-core/components/base-layout.component.ts","ng://ramster-ui-core/components/base-page.component.ts","node_modules/tslib/tslib.es6.js","ng://ramster-ui-core/services/globalEvents/globalEvents.service.ts","ng://ramster-ui-core/services/request.service.ts","ng://ramster-ui-core/services/baseREST.service.ts","ng://ramster-ui-core/services/filesREST.service.ts","ng://ramster-ui-core/services/modelRESTServiceProvider.service.ts","ng://ramster-ui-core/utils/toolbelt.ts","ng://ramster-ui-core/index.ts"],"sourcesContent":["import {Directive, ViewContainerRef} from '@angular/core'\r\n\r\n@Directive({\r\n\tselector: '[component-injector-area]'\r\n})\r\nexport class ComponentInjectorAreaDirective {\r\n\tconstructor(public viewContainerRef: ViewContainerRef) {\r\n\t}\r\n}\r\n","import {AfterViewInit, Component, ChangeDetectorRef, ComponentFactoryResolver, Input, ViewChild} from '@angular/core'\r\nimport {ComponentInjectorAreaDirective} from './componentInjector.directive'\r\n\r\n@Component({\r\n\tselector: 'component-injector',\r\n\ttemplateUrl: './componentInjector.template.html'\r\n})\r\nexport class ComponentInjector implements AfterViewInit {\r\n\tcomponentRefInstance: any\r\n\r\n\t@ViewChild(ComponentInjectorAreaDirective) componentRef: ComponentInjectorAreaDirective\r\n\t@Input() component: any\r\n\t@Input() data: any\r\n\r\n\tconstructor(\r\n\t\tprivate cdRef:ChangeDetectorRef,\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver) {\r\n\t}\r\n\r\n\tngAfterViewInit() {\r\n\t\tlet componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.component),\r\n\t\t\tviewContainerRef = this.componentRef.viewContainerRef\r\n\t\tviewContainerRef.clear()\r\n\t\tthis.componentRefInstance = viewContainerRef.createComponent(componentFactory).instance\r\n\t\tthis.componentRefInstance.data = this.data\r\n\t\tthis.cdRef.detectChanges()\r\n\t}\r\n}\r\n","import {OnInit} from '@angular/core'\r\nimport {Router} from '@angular/router'\r\n\r\nimport {GlobalEventsService} from '../services/globalEvents/globalEvents.service'\r\nimport {GESRedirectOptionsInterface} from '../services/globalEvents/globalEvents.interfaces'\r\n\r\n\r\nexport class BaseLayoutComponent implements OnInit {\r\n\tinitialDataLoaded: boolean = false\r\n\tloaderActive: boolean = false\r\n\tqueryParams: {[x: string]: string} = {}\r\n\trouteParams: {[x: string]: string} = {}\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic router: Router\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.globalEventsService.pageLoaded$.subscribe((data?: {[x: string]: any}) => this.pageLoaded(data))\r\n\t\tthis.globalEventsService.triggerInitialDataLoad$.subscribe(() => this.loadInitialData())\r\n\t\tthis.globalEventsService.setLayoutData$.subscribe((data) => this.setLayoutData(data))\r\n\t\tthis.globalEventsService.redirect$.subscribe(({route, options}) => this.redirect(route, options))\r\n\t\tthis.globalEventsService.toggleLoader$.subscribe((active) => this.toggleLoader(active))\r\n\t}\r\n\r\n\tsendInitialDataLoadedEvent() {\r\n\t\tthis.globalEventsService.initialDataLoaded({queryParams: this.queryParams, routeParams: this.routeParams})\r\n\t}\r\n\r\n\r\n\t// globalEventsService handlers\r\n\r\n\tpageLoaded(data?: {[x: string]: any}): void {\r\n\t\tif (data) {\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tthis[key] = data[key]\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.initialDataLoaded) {\r\n\t\t\tthis.sendInitialDataLoadedEvent()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.loadInitialData()\r\n\t}\r\n\r\n\tloadInitialData(): void {\r\n\t\tthis.sendInitialDataLoadedEvent()\r\n\t}\r\n\r\n\tsetLayoutData(args: {[x: string]: any}) {\r\n\t\tfor (const key in args) {\r\n\t\t\tthis[key] = args[key]\r\n\t\t}\r\n\t}\r\n\r\n\tredirect(route: string, options: GESRedirectOptionsInterface): void {\r\n\t\tconst actualOptions = options || {},\r\n\t\t\t{queryParams, reloadInitialData} = actualOptions\r\n\t\tif (reloadInitialData) {\r\n\t\t\tthis.initialDataLoaded = false\r\n\t\t}\r\n\t\tthis.router.navigate([route], {queryParams: queryParams || {}})\r\n\t}\r\n\r\n\ttoggleLoader(active: boolean): void {\r\n\t\tthis.loaderActive = active\r\n\t}\r\n}\r\n","'use strict'\r\n\r\nimport {ActivatedRoute} from '@angular/router'\r\nimport {OnDestroy, OnInit} from '@angular/core'\r\nimport {Subject} from 'rxjs'\r\nimport {takeUntil} from 'rxjs/operators'\r\n\r\nimport {GlobalEventsService} from '../services/globalEvents/globalEvents.service'\r\n\r\nexport class BasePageComponent implements OnInit, OnDestroy {\r\n\tdestroyed: Subject<void> = new Subject()\r\n\tloggedInUser?: any\r\n\tqueryParams: {[x: string]: string}\r\n\trouteParams: {[x: string]: string}\r\n\r\n\tconstructor(\r\n\t\tpublic activatedRoute: ActivatedRoute,\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic onInitMethodNames: string[],\r\n\t\tpublic onInitialDataLoadedMethodNames: string[]\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.globalEventsService.initialDataLoaded$.pipe(takeUntil(this.destroyed)).subscribe((data) => this.initialDataLoaded(data))\r\n\t\tthis.onInitMethodNames.forEach((methodName) => {\r\n\t\t\tif (typeof this[methodName] === 'function') {\r\n\t\t\t\tthis[methodName]()\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treset(): void {\r\n\t\tthis.queryParams = this.activatedRoute.snapshot.queryParams\r\n\t\tthis.routeParams = this.activatedRoute.snapshot.params\r\n\t}\r\n\r\n\tsendPageLoadedEvent() {\r\n\t\tthis.globalEventsService.pageLoaded({queryParams: this.queryParams, routeParams: this.routeParams})\r\n\t}\r\n\r\n\tinitialDataLoaded(data): void {\r\n\t\tthis.loggedInUser = data.user\r\n\t\tthis.queryParams = data.queryParams\r\n\t\tthis.routeParams = data.routeParams\r\n\t\tthis.onInitialDataLoadedMethodNames.forEach((methodName) => {\r\n\t\t\tif (typeof this[methodName] === 'function') {\r\n\t\t\t\tthis[methodName](data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdestructor() {\r\n\t\tthis.destroyed.next()\r\n\t\tthis.destroyed.complete()\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.destructor()\r\n\t}\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {Injectable} from '@angular/core'\r\nimport {Subject} from 'rxjs'\r\nimport {GESRedirectOptionsInterface} from './globalEvents.interfaces'\r\n\r\n@Injectable()\r\nexport class GlobalEventsService {\r\n\tpageLoadedSource = new Subject<{[x: string]: any} | void>()\r\n\ttriggerInitialDataLoadSource = new Subject<void>()\r\n\tinitialDataLoadedSource = new Subject<any>()\r\n\tsetLayoutDataSource = new Subject<{[x: string]: any}>()\r\n\tredirectSource = new Subject<{route: string, options: GESRedirectOptionsInterface}>()\r\n\tnotifySource = new Subject<{type: string, message: string}>()\r\n\ttoggleLoaderSource = new Subject<boolean>()\r\n\r\n\tpageLoaded$ = this.pageLoadedSource.asObservable()\r\n\ttriggerInitialDataLoad$ = this.triggerInitialDataLoadSource.asObservable()\r\n\tinitialDataLoaded$ = this.initialDataLoadedSource.asObservable()\r\n\tsetLayoutData$ = this.setLayoutDataSource.asObservable()\r\n\tredirect$ = this.redirectSource.asObservable()\r\n\tnotify$ = this.notifySource.asObservable()\r\n\ttoggleLoader$ = this.toggleLoaderSource.asObservable()\r\n\r\n\tpageLoaded(data): void {\r\n\t\tthis.pageLoadedSource.next(data)\r\n\t}\r\n\r\n\ttriggerInitialDataLoad(): void {\r\n\t\tthis.triggerInitialDataLoadSource.next()\r\n\t}\r\n\r\n\tinitialDataLoaded(data): void {\r\n\t\tthis.initialDataLoadedSource.next(data)\r\n\t}\r\n\r\n\tsetLayoutData(data): void {\r\n\t\tthis.setLayoutDataSource.next(data)\r\n\t}\r\n\r\n\tredirect(route: string, options?: GESRedirectOptionsInterface): void {\r\n\t\tthis.redirectSource.next({route, options})\r\n\t}\r\n\r\n\tnotify(type: string, message: string): void {\r\n\t\tthis.notifySource.next({type, message})\r\n\t}\r\n\r\n\ttoggleLoader(active: boolean): void {\r\n\t\tthis.toggleLoaderSource.next(active)\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core'\r\nimport {HttpClient, HttpRequest, HttpResponse} from '@angular/common/http'\r\n\r\n\r\n@Injectable()\r\nexport class RequestService {\r\n\tconstructor(public client: HttpClient) {}\r\n\r\n\tflattenObjectForQuery(object: {[x: string]: any} | any[], parentKey?: string): {key: string, value: any}[] {\r\n\t\tlet returnObject = []\r\n\t\tif (object instanceof Array) {\r\n\t\t\tif (!parentKey) {\r\n\t\t\t\tthrow {error: 'The top-most item cannot be an array.'}\r\n\t\t\t}\r\n\t\t\tobject.forEach((item) => {\r\n\t\t\t\tif (item === null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif ((item instanceof Date) || !(item instanceof Array)  || (typeof item !== 'object')) {\r\n\t\t\t\t\treturnObject.push({key: `${parentKey}[]`, value: item})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturnObject = returnObject.concat(this.flattenObjectForQuery(item, `${parentKey}[]`))\r\n\t\t\t\treturn\r\n\t\t\t})\r\n\t\t\treturn returnObject\r\n\t\t}\r\n\t\tfor (const key in object) {\r\n\t\t\tconst value = object[key]\r\n\t\t\tif (value === null) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif ((value instanceof Date) || (typeof value !== 'object')) {\r\n\t\t\t\treturnObject.push({key: parentKey ? `${parentKey}[${key}]`: key, value})\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\treturnObject = returnObject.concat(this.flattenObjectForQuery(value, parentKey ? `${parentKey}[${key}]` : key))\r\n\t\t}\r\n\t\treturn returnObject\r\n\t}\r\n\r\n\trun(method: string, url: string, options?: {[x: string]: any}) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\ttry {\r\n\t\t\t\tlet actualUrl = url,\r\n\t\t\t\t\trunOptions = {} as any,\r\n\t\t\t\t\trequestOptions = {} as any,\r\n\t\t\t\t\tbody = null\r\n\t\t\t\tif (options && (typeof options === 'object')) {\r\n\t\t\t\t\tlet {resolveWithFullResponse, ... otherOptions} = options\r\n\t\t\t\t\trequestOptions = otherOptions\r\n\t\t\t\t\trunOptions = {resolveWithFullResponse}\r\n\t\t\t\t}\r\n\t\t\t\tif (method.toLowerCase() === 'get') {\r\n\t\t\t\t\tif (!requestOptions || (typeof requestOptions !== 'object')) {\r\n\t\t\t\t\t\trequestOptions = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst optionsParams = this.flattenObjectForQuery(requestOptions.params || {})\r\n\t\t\t\t\tactualUrl += `?_=${(new Date()).getTime().toString()}`\r\n\t\t\t\t\tif (optionsParams.length) {\r\n\t\t\t\t\t\toptionsParams.forEach((item, index) => {\r\n\t\t\t\t\t\t\tactualUrl += `&${item.key}=${item.value}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!requestOptions || (typeof requestOptions !== 'object')) {\r\n\t\t\t\t\t\trequestOptions = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbody = (!requestOptions.body || (typeof requestOptions.body !== 'object')) ? {} : requestOptions.body\r\n\t\t\t\t\tbody._ = (new Date()).getTime()\r\n\t\t\t\t\tdelete requestOptions.body\r\n\t\t\t\t}\r\n\t\t\t\t// if (!requestOptions.responseType) {}\r\n\t\t\t\tthis.client.request(new HttpRequest(method, actualUrl, body, requestOptions)).toPromise().then(\r\n\t\t\t\t\t(response: HttpResponse<any>) => runOptions.resolveWithFullResponse ? resolve(response) : resolve(response.body),\r\n\t\t\t\t\t(error: any) => reject(error)\r\n\t\t\t\t)\r\n\t\t\t} catch(error) {\r\n\t\t\t\treject(error)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n","import co from 'co'\r\nimport {HttpHeaders} from '@angular/common/http'\r\nimport {GlobalEventsService} from './globalEvents/globalEvents.service'\r\nimport {Injectable} from '@angular/core'\r\nimport {RequestService} from './request.service'\r\nimport {Subject} from 'rxjs'\r\n\r\n@Injectable()\r\nexport class BaseRESTService {\r\n\tbaseUrl = '/'\r\n\tfileTooLargeErrorMessage?: string = 'The selected file is too large.'\r\n\theaders = new HttpHeaders({'Content-Type': 'application/json'})\r\n\tredirectOnForbiddenUrl?: string = null\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic requestService: RequestService\r\n\t) {}\r\n\r\n\temptyToNull(data: any): any {\r\n\t\tif (data === '') {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tif (data instanceof Date) {\r\n\t\t\treturn data\r\n\t\t}\r\n\t\tif (data instanceof Array) {\r\n\t\t\treturn data.map((item, index) => this.emptyToNull(item))\r\n\t\t}\r\n\t\tif ((typeof data === 'object') && (data !== null)) {\r\n\t\t\tconst parsedData = {}\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tparsedData[key] = this.emptyToNull(data[key])\r\n\t\t\t}\r\n\t\t\treturn parsedData\r\n\t\t}\r\n\t\treturn data\r\n\t}\r\n\r\n\tstringifyGetParams(data: {[key: string]: any}): {[key: string]: any} {\r\n\t\tlet stringifiedObject = {}\r\n\t\tfor (const key in data) {\r\n\t\t\tconst value = data[key]\r\n\t\t\tif ((value instanceof Array) || ((typeof value === 'object') && (value !== null) && !(value instanceof Date))) {\r\n\t\t\t\tstringifiedObject[`_json_${key}`] = JSON.stringify(value)\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tstringifiedObject[key] = value\r\n\t\t}\r\n\t\treturn stringifiedObject\r\n\t}\r\n\r\n\thandleError(err: any, options?: {notifyOnError?: boolean}): void {\r\n\t\tconst {notifyOnError} = options || {} as any\r\n\t\tif (!err) {\r\n\t\t\tif (notifyOnError !== false) {\r\n\t\t\t\tthis.globalEventsService.notify('error', 'An unknown error has occurred.')\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.redirectOnForbiddenUrl && ((err.status === 401) || (err.error && (err.error.status === 401)))) {\r\n\t\t\tthis.globalEventsService.redirect(this.redirectOnForbiddenUrl)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif ((err.status === 413) || (err.error && (err.error.status === 413))) {\r\n\t\t\tthis.globalEventsService.notify('error', this.fileTooLargeErrorMessage)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (notifyOnError !== false) {\r\n\t\t\tthis.globalEventsService.notify('error', err.error && err.error.error || 'An error has occurred.')\r\n\t\t}\r\n\t}\r\n\r\n\tcreate(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('post', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tread(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/item`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\treadList(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tstreamReadList(\r\n\t\tparams: {[key: string]: any},\r\n\t\tonMessage: Function,\r\n\t\toptions?: {onError?: Function, reconnectAttemptInterval?: number, reconnectAttemptsLeft?: number}\r\n\t): Subject<void> {\r\n\t\tconst actualOptions = options || {},\r\n\t\t\t{onError, reconnectAttemptInterval} = actualOptions,\r\n\t\t\terrorHandler = onError ? onError : this.handleError.bind(this)\r\n\t\tlet reconnectAttemptsLeft = actualOptions.reconnectAttemptsLeft,\r\n\t\t\turl = `${window.location.origin}${this.baseUrl}/streamList`,\r\n\t\t\tstringifiedParams = this.stringifyGetParams(this.emptyToNull(params)),\r\n\t\t\tfirstParam = true\r\n\t\tfor (const key in stringifiedParams) {\r\n\t\t\tif (firstParam) {\r\n\t\t\t\tfirstParam = false\r\n\t\t\t\turl += '?'\r\n\t\t\t} else {\r\n\t\t\t\turl += '&'\r\n\t\t\t}\r\n\t\t\turl += `${key}=${stringifiedParams[key]}`\r\n\t\t}\r\n\t\tlet eventSource = new EventSource(url),\r\n\t\t\tcloseSubject = new Subject<void>(),\r\n\t\t\treconnectAllowed = {value: true}\r\n\t\teventSource.onmessage = (event) => onMessage(event)\r\n\t\teventSource.onerror = (err) => errorHandler(err)\r\n\t\tlet interval = setInterval(() => {\r\n\t\t\tif (\r\n\t\t\t\t(eventSource.readyState === 2) &&\r\n\t\t\t\treconnectAllowed.value &&\r\n\t\t\t\t((typeof reconnectAttemptsLeft === 'undefined') || reconnectAttemptsLeft > 0)\r\n\t\t\t) {\r\n\t\t\t\teventSource = new EventSource(url)\r\n\t\t\t\teventSource.onmessage = (event) => onMessage(event)\r\n\t\t\t\teventSource.onerror = (err) => errorHandler(err)\r\n\t\t\t\tif (typeof reconnectAttemptsLeft !== 'undefined') {\r\n\t\t\t\t\treconnectAttemptsLeft--\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tclearInterval(interval)\r\n\t\t}, reconnectAttemptInterval || 5000)\r\n\t\tcloseSubject.subscribe(() => {\r\n\t\t\treconnectAllowed.value = false\r\n\t\t\teventSource.close()\r\n\t\t})\r\n\t\treturn closeSubject\r\n\t}\r\n\r\n\treadSelectList(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/selectList`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tupdate(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('patch', `${instance.baseUrl}/item/${params.id}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tbulkUpsert(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('put', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tdelete(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('delete', `${instance.baseUrl}/${params.id}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import co from 'co'\r\nimport {Injectable} from '@angular/core'\r\nimport {HttpHeaders} from '@angular/common/http'\r\n\r\nimport {GlobalEventsService} from './globalEvents/globalEvents.service'\r\nimport {RequestService} from './request.service'\r\n\r\n@Injectable()\r\nexport class FilesRESTService {\r\n\t// {'Content-Type': 'application/json'}\r\n\theaders = new HttpHeaders()\r\n\tbaseUrl = '/files'\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic requestService: RequestService\r\n\t) {}\r\n\r\n\thandleError(err: any): void {\r\n\t\tif (!err) {\r\n\t\t\tthis.globalEventsService.notify('error', 'An unknown error has occurred.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif ((err.status === 413) || (err.error && (err.error.status === 413))) {\r\n\t\t\tthis.globalEventsService.notify('error', 'The selected file is too large.')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.globalEventsService.notify('error', err.error && err.error.error || 'An error has occurred.')\r\n\t}\r\n\r\n\tupload(file: File, params: {outputFileName: string, [x: string]: any}, options?: {handleError?: boolean}): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\tlet fd = new FormData()\r\n\t\t\t\tfd.append('file', file, file.name)\r\n\t\t\t\tfor (const key in params) {\r\n\t\t\t\t\tfd.append(key, params[key])\r\n\t\t\t\t}\r\n\t\t\t\tinstance.headers.set('Content-Type', 'multipart/form-data')\r\n\t\t\t\tyield instance.requestService.run('post', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: fd\r\n\t\t\t\t})\r\n\t\t\t\treturn {success: true}\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tif (options && options.handleError) {\r\n\t\t\t\t\tinstance.handleError(err)\r\n\t\t\t\t}\r\n\t\t\t\treject({error: err || true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tread(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/item`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import {BaseRESTService} from '../index'\nimport {Injectable, Injector} from '@angular/core'\n\n@Injectable()\nexport class ModelRESTServiceProviderService {\n\tmodelRESTServices: {[key: string]: BaseRESTService} = {}\n\n\tconstructor(\n\t\tpublic injector: Injector\n\t) {\n\t}\n\n\tget(componentName: string): BaseRESTService {\n\t\treturn this.modelRESTServices[`${componentName}ModelRESTService`]\n\t}\n\n\tsetServices(data: {[key: string]: BaseRESTService}): void {\n\t\tthis.modelRESTServices = {}\n\t\tObject.keys(data).forEach((key) => {\n\t\t\tthis.modelRESTServices[`${key.charAt(0).toLowerCase()}${key.substr(1, key.length)}`] = this.injector.get(data[key])\n\t\t})\n\t}\n}\n","export const getNested = (parent: any, field: string): any => {\r\n\tif ((typeof parent !== 'object') || (parent === null) || (typeof field !== 'string') || !field.length) {\r\n\t\treturn undefined\r\n\t}\r\n\tlet fieldData = field.split('.'),\r\n\t\tfieldDataLength = fieldData.length,\r\n\t\tcurrentElement = parent\r\n\tfor (let i = 0; i < fieldDataLength; i++) {\r\n\t\tif ((typeof currentElement === 'undefined') || (currentElement === null)) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\tlet innerElementName = fieldData[i]\r\n\t\t// logic for handling sequelize-style $foo.bar$ - should be treated as a single element\r\n\t\tif (innerElementName.charAt(0) === '$') {\r\n\t\t\tlet closingBracketFound = false,\r\n\t\t\t\tclosingBracketIndex = i + 1\r\n\t\t\twhile (closingBracketIndex < fieldDataLength) {\r\n\t\t\t\tconst element = fieldData[closingBracketIndex]\r\n\t\t\t\t// false alarm - there's another $ opening before the current one closed - so the current one must be just a variable name, not a bracket\r\n\t\t\t\tif (element.charAt(0) === '$') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// found it !\r\n\t\t\t\tif (element.charAt(element.length - 1) === '$') {\r\n\t\t\t\t\tclosingBracketFound = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tclosingBracketIndex++\r\n\t\t\t}\r\n\t\t\tif (closingBracketFound) {\r\n\t\t\t\tfor (let j = i + 1; j <= closingBracketIndex; j++) {\r\n\t\t\t\t\tinnerElementName += `.${fieldData[j]}`\r\n\t\t\t\t}\r\n\t\t\t\ti = closingBracketIndex\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet nextElement = currentElement[innerElementName]\r\n\t\tif (typeof nextElement === 'undefined') {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\t// if the next element is an array, prepare to return an array of the inner items\r\n\t\tif (nextElement instanceof Array) {\r\n\t\t\t// if this is the last item, just return the array\r\n\t\t\tif (i === (fieldDataLength - 1)) {\r\n\t\t\t\treturn nextElement\r\n\t\t\t}\r\n\t\t\t// if the next item is not an index, recursively call self for each item of the array\r\n\t\t\tif (isNaN(parseInt(fieldData[i + 1], 10))) {\r\n\t\t\t\tcurrentElement = []\r\n\t\t\t\tlet innerPath = ''\r\n\t\t\t\tfor (let j = i + 1; j < fieldDataLength; j++) {\r\n\t\t\t\t\tinnerPath += `${fieldData[j]}${j < (fieldDataLength - 1) ? '.' : ''}`\r\n\t\t\t\t}\r\n\t\t\t\tnextElement.forEach((item, iIndex) => {\r\n\t\t\t\t\tlet innerValue = getNested(item, innerPath)\r\n\t\t\t\t\tif (typeof innerValue !== 'undefined') {\r\n\t\t\t\t\t\t// if the innerValue is an array too, merge it with the currentElement - this way we can have nested arrays without indexes\r\n\t\t\t\t\t\tif (innerValue instanceof Array) {\r\n\t\t\t\t\t\t\tcurrentElement = currentElement.concat(innerValue)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t currentElement.push(innerValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn currentElement\r\n\t\t\t}\r\n\t\t}\r\n\t\tcurrentElement = nextElement\r\n\t}\r\n\treturn currentElement\r\n}\r\n\r\nexport const setNested = (parent: any, field: string, value: any): boolean => {\r\n\tconst fieldNames = field.split('.')\r\n\tif (!fieldNames.length) {\r\n\t\treturn false\r\n\t}\r\n\tlet currentParent = parent,\r\n\t\tloopEnd = fieldNames.length - 1\r\n\tfor (let i = 0; i < loopEnd; i++) {\r\n\t\tconst fieldName = fieldNames[i]\r\n\t\tif (typeof currentParent[fieldName] === 'undefined') {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tcurrentParent = currentParent[fieldName]\r\n\t}\r\n\tcurrentParent[fieldNames[loopEnd]] = value\r\n\treturn true\r\n}\r\n","// angular dependencies\r\nimport {CommonModule} from '@angular/common'\r\nimport {NgModule} from '@angular/core'\r\n\r\nimport {ComponentInjector} from './components/componentInjector/componentInjector.component'\r\nimport {ComponentInjectorAreaDirective} from './components/componentInjector/componentInjector.directive'\r\n\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule\r\n\t],\r\n\tdeclarations: [\r\n\t\tComponentInjector,\r\n\t\tComponentInjectorAreaDirective\r\n\t],\r\n\texports: [\r\n\t\tComponentInjector\r\n\t]\r\n})\r\nexport class RamsterUICoreModule {}\r\n\r\nexport * from './components/base-layout.component'\r\nexport * from './components/base-page.component'\r\n// export {ComponentInjector}\r\nexport * from './services/baseREST.service'\r\nexport * from './services/filesREST.service'\r\nexport * from './services/globalEvents/globalEvents.service'\r\nexport * from './services/globalEvents/globalEvents.interfaces'\r\nexport * from './services/modelRESTServiceProvider.service'\r\nexport * from './services/request.service'\r\nexport * from './utils/toolbelt'\r\nexport * from './interfaces/selectList.interface'\r\n"],"names":["Directive","ViewContainerRef","Component","ChangeDetectorRef","ComponentFactoryResolver","ViewChild","Input","Subject","takeUntil","Injectable","HttpRequest","HttpClient","HttpHeaders","Injector","NgModule","CommonModule"],"mappings":"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"}
