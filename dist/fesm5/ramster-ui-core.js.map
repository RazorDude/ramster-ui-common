{"version":3,"file":"ramster-ui-core.js.map","sources":["ng://ramster-ui-core/components/base-layout.component.ts","ng://ramster-ui-core/components/base-page.component.ts","ng://ramster-ui-core/services/globalEvents/globalEvents.service.ts","ng://ramster-ui-core/services/request.service.ts","ng://ramster-ui-core/services/baseREST.service.ts","ng://ramster-ui-core/services/filesREST.service.ts","ng://ramster-ui-core/services/modelRESTServiceProvider.service.ts","ng://ramster-ui-core/utils/toolbelt.ts","ng://ramster-ui-core/index.ts"],"sourcesContent":["import {OnInit} from '@angular/core'\r\nimport {Router} from '@angular/router'\r\n\r\nimport {GlobalEventsService} from '../services/globalEvents/globalEvents.service'\r\nimport {GESRedirectOptionsInterface} from '../services/globalEvents/globalEvents.interfaces'\r\n\r\n\r\nexport class BaseLayoutComponent implements OnInit {\r\n\tinitialDataLoaded: boolean = false\r\n\tloaderActive: boolean = false\r\n\tqueryParams: {[x: string]: string} = {}\r\n\trouteParams: {[x: string]: string} = {}\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic router: Router\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tthis.globalEventsService.pageLoaded$.subscribe((data?: {[x: string]: any}) => this.pageLoaded(data))\r\n\t\tthis.globalEventsService.triggerInitialDataLoad$.subscribe(() => this.loadInitialData())\r\n\t\tthis.globalEventsService.setLayoutData$.subscribe((data) => this.setLayoutData(data))\r\n\t\tthis.globalEventsService.redirect$.subscribe(({route, options}) => this.redirect(route, options))\r\n\t\tthis.globalEventsService.toggleLoader$.subscribe((active) => this.toggleLoader(active))\r\n\t}\r\n\r\n\tsendInitialDataLoadedEvent() {\r\n\t\tthis.globalEventsService.initialDataLoaded({queryParams: this.queryParams, routeParams: this.routeParams})\r\n\t}\r\n\r\n\r\n\t// globalEventsService handlers\r\n\r\n\tpageLoaded(data?: {[x: string]: any}): void {\r\n\t\tif (data) {\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tthis[key] = data[key]\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.initialDataLoaded) {\r\n\t\t\tthis.sendInitialDataLoadedEvent()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.loadInitialData()\r\n\t}\r\n\r\n\tloadInitialData(): void {\r\n\t\tthis.sendInitialDataLoadedEvent()\r\n\t}\r\n\r\n\tsetLayoutData(args: {[x: string]: any}) {\r\n\t\tfor (const key in args) {\r\n\t\t\tthis[key] = args[key]\r\n\t\t}\r\n\t}\r\n\r\n\tredirect(route: string, options: GESRedirectOptionsInterface): void {\r\n\t\tconst actualOptions = options || {},\r\n\t\t\t{queryParams, reloadInitialData} = actualOptions\r\n\t\tif (reloadInitialData) {\r\n\t\t\tthis.initialDataLoaded = false\r\n\t\t}\r\n\t\tthis.router.navigate([route], {queryParams: queryParams || {}})\r\n\t}\r\n\r\n\ttoggleLoader(active: boolean): void {\r\n\t\tthis.loaderActive = active\r\n\t}\r\n}\r\n","'use strict'\r\n\r\nimport {ActivatedRoute} from '@angular/router'\r\nimport {OnDestroy, OnInit} from '@angular/core'\r\nimport {Subject} from 'rxjs'\r\nimport {takeUntil} from 'rxjs/operators'\r\n\r\nimport {GlobalEventsService} from '../services/globalEvents/globalEvents.service'\r\n\r\nexport class BasePageComponent implements OnInit, OnDestroy {\r\n\tdestroyed: Subject<void> = new Subject()\r\n\tloggedInUser?: any\r\n\tqueryParams: {[x: string]: string}\r\n\trouteParams: {[x: string]: string}\r\n\r\n\tconstructor(\r\n\t\tpublic activatedRoute: ActivatedRoute,\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic onInitMethodNames: string[],\r\n\t\tpublic onInitialDataLoadedMethodNames: string[]\r\n\t) {\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.globalEventsService.initialDataLoaded$.pipe(takeUntil(this.destroyed)).subscribe((data) => this.initialDataLoaded(data))\r\n\t\tthis.onInitMethodNames.forEach((methodName) => {\r\n\t\t\tif (typeof this[methodName] === 'function') {\r\n\t\t\t\tthis[methodName]()\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\treset(): void {\r\n\t\tthis.queryParams = this.activatedRoute.snapshot.queryParams\r\n\t\tthis.routeParams = this.activatedRoute.snapshot.params\r\n\t}\r\n\r\n\tsendPageLoadedEvent() {\r\n\t\tthis.globalEventsService.pageLoaded({queryParams: this.queryParams, routeParams: this.routeParams})\r\n\t}\r\n\r\n\tinitialDataLoaded(data): void {\r\n\t\tthis.loggedInUser = data.user\r\n\t\tthis.queryParams = data.queryParams\r\n\t\tthis.routeParams = data.routeParams\r\n\t\tthis.onInitialDataLoadedMethodNames.forEach((methodName) => {\r\n\t\t\tif (typeof this[methodName] === 'function') {\r\n\t\t\t\tthis[methodName](data)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdestructor() {\r\n\t\tthis.destroyed.next()\r\n\t\tthis.destroyed.complete()\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.destructor()\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core'\r\nimport {Subject} from 'rxjs'\r\nimport {GESRedirectOptionsInterface} from './globalEvents.interfaces'\r\n\r\n@Injectable()\r\nexport class GlobalEventsService {\r\n\tpageLoadedSource = new Subject<{[x: string]: any} | void>()\r\n\ttriggerInitialDataLoadSource = new Subject<void>()\r\n\tinitialDataLoadedSource = new Subject<any>()\r\n\tsetLayoutDataSource = new Subject<{[x: string]: any}>()\r\n\tredirectSource = new Subject<{route: string, options: GESRedirectOptionsInterface}>()\r\n\tnotifySource = new Subject<{type: string, message: string}>()\r\n\ttoggleLoaderSource = new Subject<boolean>()\r\n\r\n\tpageLoaded$ = this.pageLoadedSource.asObservable()\r\n\ttriggerInitialDataLoad$ = this.triggerInitialDataLoadSource.asObservable()\r\n\tinitialDataLoaded$ = this.initialDataLoadedSource.asObservable()\r\n\tsetLayoutData$ = this.setLayoutDataSource.asObservable()\r\n\tredirect$ = this.redirectSource.asObservable()\r\n\tnotify$ = this.notifySource.asObservable()\r\n\ttoggleLoader$ = this.toggleLoaderSource.asObservable()\r\n\r\n\tpageLoaded(data): void {\r\n\t\tthis.pageLoadedSource.next(data)\r\n\t}\r\n\r\n\ttriggerInitialDataLoad(): void {\r\n\t\tthis.triggerInitialDataLoadSource.next()\r\n\t}\r\n\r\n\tinitialDataLoaded(data): void {\r\n\t\tthis.initialDataLoadedSource.next(data)\r\n\t}\r\n\r\n\tsetLayoutData(data): void {\r\n\t\tthis.setLayoutDataSource.next(data)\r\n\t}\r\n\r\n\tredirect(route: string, options?: GESRedirectOptionsInterface): void {\r\n\t\tthis.redirectSource.next({route, options})\r\n\t}\r\n\r\n\tnotify(type: string, message: string): void {\r\n\t\tthis.notifySource.next({type, message})\r\n\t}\r\n\r\n\ttoggleLoader(active: boolean): void {\r\n\t\tthis.toggleLoaderSource.next(active)\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core'\r\nimport {HttpClient, HttpRequest, HttpResponse} from '@angular/common/http'\r\n\r\n\r\n@Injectable()\r\nexport class RequestService {\r\n\tconstructor(public client: HttpClient) {}\r\n\r\n\tflattenObjectForQuery(object: {[x: string]: any} | any[], parentKey?: string): {key: string, value: any}[] {\r\n\t\tlet returnObject = []\r\n\t\tif (object instanceof Array) {\r\n\t\t\tif (!parentKey) {\r\n\t\t\t\tthrow {error: 'The top-most item cannot be an array.'}\r\n\t\t\t}\r\n\t\t\tobject.forEach((item) => {\r\n\t\t\t\tif (item === null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif ((item instanceof Date) || !(item instanceof Array)  || (typeof item !== 'object')) {\r\n\t\t\t\t\treturnObject.push({key: `${parentKey}[]`, value: item})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturnObject = returnObject.concat(this.flattenObjectForQuery(item, `${parentKey}[]`))\r\n\t\t\t\treturn\r\n\t\t\t})\r\n\t\t\treturn returnObject\r\n\t\t}\r\n\t\tfor (const key in object) {\r\n\t\t\tconst value = object[key]\r\n\t\t\tif (value === null) {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tif ((value instanceof Date) || (typeof value !== 'object')) {\r\n\t\t\t\treturnObject.push({key: parentKey ? `${parentKey}[${key}]`: key, value})\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\treturnObject = returnObject.concat(this.flattenObjectForQuery(value, parentKey ? `${parentKey}[${key}]` : key))\r\n\t\t}\r\n\t\treturn returnObject\r\n\t}\r\n\r\n\trun(method: string, url: string, options?: {[x: string]: any}) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\ttry {\r\n\t\t\t\tlet actualUrl = url,\r\n\t\t\t\t\trunOptions = {} as any,\r\n\t\t\t\t\trequestOptions = {} as any,\r\n\t\t\t\t\tbody = null\r\n\t\t\t\tif (options && (typeof options === 'object')) {\r\n\t\t\t\t\tlet {resolveWithFullResponse, ... otherOptions} = options\r\n\t\t\t\t\trequestOptions = otherOptions\r\n\t\t\t\t\trunOptions = {resolveWithFullResponse}\r\n\t\t\t\t}\r\n\t\t\t\tif (method.toLowerCase() === 'get') {\r\n\t\t\t\t\tif (!requestOptions || (typeof requestOptions !== 'object')) {\r\n\t\t\t\t\t\trequestOptions = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst optionsParams = this.flattenObjectForQuery(requestOptions.params || {})\r\n\t\t\t\t\tactualUrl += `?_=${(new Date()).getTime().toString()}`\r\n\t\t\t\t\tif (optionsParams.length) {\r\n\t\t\t\t\t\toptionsParams.forEach((item, index) => {\r\n\t\t\t\t\t\t\tactualUrl += `&${item.key}=${item.value}`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!requestOptions || (typeof requestOptions !== 'object')) {\r\n\t\t\t\t\t\trequestOptions = {}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbody = (!requestOptions.body || (typeof requestOptions.body !== 'object')) ? {} : requestOptions.body\r\n\t\t\t\t\tbody._ = (new Date()).getTime()\r\n\t\t\t\t\tdelete requestOptions.body\r\n\t\t\t\t}\r\n\t\t\t\t// if (!requestOptions.responseType) {}\r\n\t\t\t\tthis.client.request(new HttpRequest(method, actualUrl, body, requestOptions)).toPromise().then(\r\n\t\t\t\t\t(response: HttpResponse<any>) => runOptions.resolveWithFullResponse ? resolve(response) : resolve(response.body),\r\n\t\t\t\t\t(error: any) => reject(error)\r\n\t\t\t\t)\r\n\t\t\t} catch(error) {\r\n\t\t\t\treject(error)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n","import co from 'co'\r\nimport {Injectable} from '@angular/core'\r\nimport {HttpHeaders} from '@angular/common/http'\r\n\r\nimport {GlobalEventsService} from './globalEvents/globalEvents.service'\r\nimport {RequestService} from './request.service'\r\n\r\n@Injectable()\r\nexport class BaseRESTService {\r\n\tbaseUrl = '/'\r\n\theaders = new HttpHeaders({'Content-Type': 'application/json'})\r\n\tredirectOnForbiddenUrl?: string = null\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic requestService: RequestService\r\n\t) {}\r\n\r\n\temptyToNull(data: any): any {\r\n\t\tif (data === '') {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tif (data instanceof Date) {\r\n\t\t\treturn data\r\n\t\t}\r\n\t\tif (data instanceof Array) {\r\n\t\t\treturn data.map((item, index) => this.emptyToNull(item))\r\n\t\t}\r\n\t\tif ((typeof data === 'object') && (data !== null)) {\r\n\t\t\tconst parsedData = {}\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tparsedData[key] = this.emptyToNull(data[key])\r\n\t\t\t}\r\n\t\t\treturn parsedData\r\n\t\t}\r\n\t\treturn data\r\n\t}\r\n\r\n\tstringifyGetParams(data: {[key: string]: any}): {[key: string]: any} {\r\n\t\tlet stringifiedObject = {}\r\n\t\tfor (const key in data) {\r\n\t\t\tconst value = data[key]\r\n\t\t\tif ((value instanceof Array) || ((typeof value === 'object') && (value !== null) && !(value instanceof Date))) {\r\n\t\t\t\tstringifiedObject[`_json_${key}`] = JSON.stringify(value)\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\t\t\tstringifiedObject[key] = value\r\n\t\t}\r\n\t\treturn stringifiedObject\r\n\t}\r\n\r\n\thandleError(err: any, options?: {notifyOnError?: boolean}): void {\r\n\t\tconst {notifyOnError} = options || {} as any\r\n\t\tif (!err) {\r\n\t\t\tif (notifyOnError !== false) {\r\n\t\t\t\tthis.globalEventsService.notify('error', 'An error has occurred.')\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.redirectOnForbiddenUrl && (err.status === 401)) {\r\n\t\t\tthis.globalEventsService.redirect(this.redirectOnForbiddenUrl)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (notifyOnError !== false) {\r\n\t\t\tthis.globalEventsService.notify('error', err.error && err.error.error || 'An error has occurred.')\r\n\t\t}\r\n\t}\r\n\r\n\tcreate(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('post', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tread(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/item`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\treadList(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\treadStreamList(\r\n\t\tparams: {[key: string]: any},\r\n\t\tonMessage: Function,\r\n\t\toptions?: {onError?: Function, reconnectAttemptInterval?: number, reconnectAttemptsLeft?: number}\r\n\t): EventSource {\r\n\t\tconst {onError, reconnectAttemptInterval, reconnectAttemptsLeft} = options || {} as any,\r\n\t\t\terrorHandler = onError ? onError : this.handleError.bind(this)\r\n\t\tlet eventSource = new EventSource(`/${this.baseUrl}/streamList` + this.stringifyGetParams(this.emptyToNull(params)))\r\n\t\teventSource.onmessage = (event) => onMessage(event)\r\n\t\teventSource.onerror = (err) => {\r\n\t\t\terrorHandler(err)\r\n\t\t\tif ((typeof reconnectAttemptsLeft === 'undefined') || reconnectAttemptsLeft > 0) {\r\n\t\t\t\teventSource.close()\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.readStreamList(\r\n\t\t\t\t\t\tparams,\r\n\t\t\t\t\t\tonMessage, {\r\n\t\t\t\t\t\t\t...options,\r\n\t\t\t\t\t\t\treconnectAttemptsLeft: typeof reconnectAttemptsLeft === 'number' ? reconnectAttemptsLeft - 1 : undefined\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t}, reconnectAttemptInterval || 5000)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn eventSource\r\n\t}\r\n\r\n\treadSelectList(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/selectList`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams: instance.stringifyGetParams(instance.emptyToNull(params))\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tupdate(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('patch', `${instance.baseUrl}/item/${params.id}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tbulkUpsert(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('put', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tdelete(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('delete', `${instance.baseUrl}/${params.id}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: instance.emptyToNull(params)\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import co from 'co'\r\nimport {Injectable} from '@angular/core'\r\nimport {HttpHeaders} from '@angular/common/http'\r\n\r\nimport {GlobalEventsService} from './globalEvents/globalEvents.service'\r\nimport {RequestService} from './request.service'\r\n\r\n@Injectable()\r\nexport class FilesRESTService {\r\n\t// {'Content-Type': 'application/json'}\r\n\theaders = new HttpHeaders()\r\n\tbaseUrl = '/files'\r\n\r\n\tconstructor(\r\n\t\tpublic globalEventsService: GlobalEventsService,\r\n\t\tpublic requestService: RequestService\r\n\t) {}\r\n\r\n\thandleError(err): void {\r\n\t\tthis.globalEventsService.notify('error', err && err.error && err.error.error || 'An error has occurred.')\r\n\t}\r\n\r\n\tupload(file: File, params: {outputFileName: string, [x: string]: any}, options?: {handleError?: boolean}): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\tlet fd = new FormData()\r\n\t\t\t\tfd.append('file', file, file.name)\r\n\t\t\t\tfor (const key in params) {\r\n\t\t\t\t\tfd.append(key, params[key])\r\n\t\t\t\t}\r\n\t\t\t\tinstance.headers.set('Content-Type', 'multipart/form-data')\r\n\t\t\t\tyield instance.requestService.run('post', `${instance.baseUrl}`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tbody: fd\r\n\t\t\t\t})\r\n\t\t\t\treturn {success: true}\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tif (options && options.handleError) {\r\n\t\t\t\t\tinstance.handleError(err)\r\n\t\t\t\t}\r\n\t\t\t\treject({error: err || true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tread(params): Promise<any> {\r\n\t\tconst instance = this\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tco(function*() {\r\n\t\t\t\treturn yield instance.requestService.run('get', `${instance.baseUrl}/item`, {\r\n\t\t\t\t\theaders: instance.headers,\r\n\t\t\t\t\tparams\r\n\t\t\t\t})\r\n\t\t\t}).then((res) => resolve(res), (err) => {\r\n\t\t\t\tinstance.handleError(err)\r\n\t\t\t\treject({error: true})\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}\r\n","import {BaseRESTService} from '../index'\nimport {Injectable, Injector} from '@angular/core'\n\n@Injectable()\nexport class ModelRESTServiceProviderService {\n\tmodelRESTServices: {[key: string]: BaseRESTService} = {}\n\n\tconstructor(\n\t\tpublic injector: Injector\n\t) {\n\t}\n\n\tget(componentName: string): BaseRESTService {\n\t\treturn this.modelRESTServices[`${componentName}ModelRESTService`]\n\t}\n\n\tsetServices(data: {[key: string]: BaseRESTService}): void {\n\t\tthis.modelRESTServices = {}\n\t\tObject.keys(data).forEach((key) => {\n\t\t\tthis.modelRESTServices[`${key.charAt(0).toLowerCase()}${key.substr(1, key.length)}`] = this.injector.get(data[key])\n\t\t})\n\t}\n}\n","export const getNested = (parent: any, field: string): any => {\r\n\tif ((typeof parent !== 'object') || (parent === null) || (typeof field !== 'string') || !field.length) {\r\n\t\treturn undefined\r\n\t}\r\n\tlet fieldData = field.split('.'),\r\n\t\tfieldDataLength = fieldData.length,\r\n\t\tcurrentElement = parent\r\n\tfor (let i = 0; i < fieldDataLength; i++) {\r\n\t\tif ((typeof currentElement === 'undefined') || (currentElement === null)) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\tlet innerElementName = fieldData[i]\r\n\t\t// logic for handling sequelize-style $foo.bar$ - should be treated as a single element\r\n\t\tif (innerElementName.charAt(0) === '$') {\r\n\t\t\tlet closingBracketFound = false,\r\n\t\t\t\tclosingBracketIndex = i + 1\r\n\t\t\twhile (closingBracketIndex < fieldDataLength) {\r\n\t\t\t\tconst element = fieldData[closingBracketIndex]\r\n\t\t\t\t// false alarm - there's another $ opening before the current one closed - so the current one must be just a variable name, not a bracket\r\n\t\t\t\tif (element.charAt(0) === '$') {\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// found it !\r\n\t\t\t\tif (element.charAt(element.length - 1) === '$') {\r\n\t\t\t\t\tclosingBracketFound = true\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tclosingBracketIndex++\r\n\t\t\t}\r\n\t\t\tif (closingBracketFound) {\r\n\t\t\t\tfor (let j = i + 1; j <= closingBracketIndex; j++) {\r\n\t\t\t\t\tinnerElementName += `.${fieldData[j]}`\r\n\t\t\t\t}\r\n\t\t\t\ti = closingBracketIndex\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet nextElement = currentElement[innerElementName]\r\n\t\tif (typeof nextElement === 'undefined') {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\t// if the next element is an array, prepare to return an array of the inner items\r\n\t\tif (nextElement instanceof Array) {\r\n\t\t\t// if this is the last item, just return the array\r\n\t\t\tif (i === (fieldDataLength - 1)) {\r\n\t\t\t\treturn nextElement\r\n\t\t\t}\r\n\t\t\t// if the next item is not an index, recursively call self for each item of the array\r\n\t\t\tif (isNaN(parseInt(fieldData[i + 1], 10))) {\r\n\t\t\t\tcurrentElement = []\r\n\t\t\t\tlet innerPath = ''\r\n\t\t\t\tfor (let j = i + 1; j < fieldDataLength; j++) {\r\n\t\t\t\t\tinnerPath += `${fieldData[j]}${j < (fieldDataLength - 1) ? '.' : ''}`\r\n\t\t\t\t}\r\n\t\t\t\tnextElement.forEach((item, iIndex) => {\r\n\t\t\t\t\tlet innerValue = getNested(item, innerPath)\r\n\t\t\t\t\tif (typeof innerValue !== 'undefined') {\r\n\t\t\t\t\t\t// if the innerValue is an array too, merge it with the currentElement - this way we can have nested arrays without indexes\r\n\t\t\t\t\t\tif (innerValue instanceof Array) {\r\n\t\t\t\t\t\t\tcurrentElement = currentElement.concat(innerValue)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t currentElement.push(innerValue)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn currentElement\r\n\t\t\t}\r\n\t\t}\r\n\t\tcurrentElement = nextElement\r\n\t}\r\n\treturn currentElement\r\n}\r\n\r\nexport const setNested = (parent: any, field: string, value: any): boolean => {\r\n\tconst fieldNames = field.split('.')\r\n\tif (!fieldNames.length) {\r\n\t\treturn false\r\n\t}\r\n\tlet currentParent = parent,\r\n\t\tloopEnd = fieldNames.length - 1\r\n\tfor (let i = 0; i < loopEnd; i++) {\r\n\t\tconst fieldName = fieldNames[i]\r\n\t\tif (typeof currentParent[fieldName] === 'undefined') {\r\n\t\t\treturn false\r\n\t\t}\r\n\t\tcurrentParent = currentParent[fieldName]\r\n\t}\r\n\tcurrentParent[fieldNames[loopEnd]] = value\r\n\treturn true\r\n}\r\n","'use strict'\r\n\r\n// angular dependencies\r\nimport {CommonModule} from '@angular/common'\r\nimport {NgModule} from '@angular/core'\r\n\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule\r\n\t]\r\n})\r\nexport class RamsterUICoreModule {}\r\n\r\nexport * from './components/base-layout.component'\r\nexport * from './components/base-page.component'\r\nexport * from './services/baseREST.service'\r\nexport * from './services/filesREST.service'\r\nexport * from './services/globalEvents/globalEvents.service'\r\nexport * from './services/globalEvents/globalEvents.interfaces'\r\nexport * from './services/modelRESTServiceProvider.service'\r\nexport * from './services/request.service'\r\nexport * from './utils/toolbelt'\r\nexport * from './interfaces/selectList.interface'\r\n"],"names":[],"mappings":"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"}
